## 知识图谱构建子系统

### 1 编写目的

本测试报告旨在全面梳理并记录数据爬取与构建项目在测试阶段的各项工作与成果，帮助团队成员及相关利益相关者清晰了解当前项目的测试情况与整体质量。报告内容涵盖测试的方法、环境、目标、执行过程、结果分析及优化建议，旨在为项目质量评估与后续改进提供有力支撑。同时，本报告也有助于提升项目的完整性与实用性，增强用户对系统的信任感和满意度。

### 2 项目背景

在全球化持续推进与信息技术高速发展的背景下，海外博物馆中收藏的中国文物日益受到公众关注。这些文物凝聚着丰富的历史、文化与艺术价值，对于弘扬中华文明、促进中外文化交流具有重要意义。然而，受限于地理距离、语言差异和信息不对称等因素，公众获取和理解这些文物信息仍面临诸多困难。为此，本项目致力于运用先进的信息技术手段，构建海外中国文物的知识图谱，旨在更直观、系统地展示中国文化的深厚底蕴，凸显中国文物在世界文化史中的独特地位。

编写程序从海外博物馆网站爬取中国文物信息，进行加工处理，构建海外文物知识图谱。主要包括以下功能：

1. **数据爬取**：本项目要求采集海外博物馆中的文物信息，涵盖指定的3家博物馆（具体网址见附件），确保尽可能完整地获取其馆藏的所有中国文物数据。爬取内容包括文物名称、图片、年代、简介等核心信息，所有采集到的数据需按照指定格式进行整理与保存，具体格式要求详见附件。
2. **数据清洗**：数据缺失处理，异常值检测与处理，数据格式统一，重复数据处理，数据转换与映射，自动化清洗流程构建
3. **数据翻译**：利用百度翻译的API批量翻译csv文件中的某列内容。 
4. **数据建模**：将爬取的数据转化为三元组形式。
5. **数据存储**：将翻译后的数据导入到mysql中，根据步骤2中构建的三元组模型，将数据导入Neo4j图数据库进行存储，并发布为开放链接数据，便于实现关系图谱、时间轴等知识图谱的可视化及问答功能开发。

### 3 测试范围

1. **数据爬取：**海外数据爬取完整性
2. **数据清洗：**数据补充以及更改
3. **数据翻译：**翻译准确性
4. **数据建模：**三元组完整性与可持续性
5. **数据存储：**服务器与MySQL数据库连接的稳定性，定时备份功能



### 4 测试环境

| <center>环境</center> | <center>详细信息</center>                                    |
| --------------------- | ------------------------------------------------------------ |
| 测试服务端            | 操作系统：Windows11 处理器：AMD R7-6800H CPU 内存：16G       |
| 测试客户端            | 操作系统：Windows11 处理器：AMD R7-6800H CPU 内存：16G       |
| MySQL服务器           |                                                              |
| Neo4J图数据库服务器   | 操作系统：Alibaba Cloud Linux 3.2104 LTS 64位 CPU&内存 ：2核(vCPU)2 GiB 公网带宽：1 Mbps |

### 5 测试时间

**开始时间：**第八周

**结束时间：**第十二周

按照原定项目推进计划进行测试，每周测试一个版块并进行测试总结。

### 6 测试人员

| <center>人员</center> | <center>任务</center>                                        |
| --------------------- | ------------------------------------------------------------ |
| 宋玉佳                | 数据爬取 数据补充 服务器配置 数据上传以及知识图谱构建        |
| 陈旭东                | 数据清洗岗位，主要负责原始数据的预处理与质量提升工作         |
| 林瀚之                | 对清洗翻译后的数据进行三元组设计，通过代码导入三元组csv文件形成知识图谱，编写测试报告 |
| 杨博超                | 负责克利夫兰博物馆的数据爬取工作，知识图谱子系统ppt制作      |
| 宋朝威                | 对清洗后的数据进行翻译操作                                   |
| 徐承昊                | 对清洗后的数据进行翻译操作                                   |

### 7 测试内容

#### 7.1数据爬取

1. 海外数据爬取的稳定性：测试海外数据爬取过程中的稳定性，包括网络连接稳定性、爬虫程序稳定性以及数据 源的稳定性

   ![image-20250523112128923](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231121966.png)

2. 数据补充的完整性：验证爬取的数据是否完整，包括数据是否有缺失、数据是否有重复以及数据是否准确

![image-20250523112207515](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231122547.png)

#### 7.2数据清洗

1. 筛选数据列

   ![image-20250523114804728](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231148767.png)

2.  重复值、空值处理

   ![image-20250523114827973](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231148006.png)

3.  数据格式规范

   ![image-20250523114850411](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231148470.png)

4. 缺省值处理
   ![image-20250523114922244](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231149280.png)

#### 7.3 数据翻译

1. 对爬取的csv文件进行翻译，通过调用百度翻译API，进行csv文件按列翻译

   ![image-20250523112332993](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231125772.png)

2. 由于进行批量翻译，百度翻译对单次请求字符有限制，对于较长的翻译内容进行拆分，使其符合字符要求在请求翻译

   ![image-20250523112643976](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231126020.png)

3. 参数配置，可以指定起始行进行翻译，也可以规定多少进行一次保存，以免数据丢失

   ![image-20250523112706103](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231127137.png)

4. 支持断点续传，可以接着翻译已经翻译一部分的的文件

   ![image-20250523112837221](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231128256.png)

5. 主题翻译函数

   ![image-20250523112918883](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231129934.png)

6. 进行翻译后的效果

   ![image-20250523112953075](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231129171.png)

7. 复检未翻译成功的内容，通过代码输出txt文件反馈未完全翻译成功的内容

   ![](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231342475.png)

8. 统计物品名称，检查翻译后的中文名称的准确性。

   ![image-20250523134236989](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231342047.png)

   

   

#### 7.4 数据建模

**三元组设计**

​	实体设计

​		文物（ID，文物名，文物详细信息，图片链接）

​	关系设计

​		博物馆-包含-文物

​		文物-年代-朝代或时间区间	

​		文物-作者-作者

#### 7.5 数据存储

将最后翻译的csv文件导入到mysql中

![b81ec1780b08d6696493720556f8ff9f](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231122801.png)

**导入三元组**

​	代码将三元组csv文件导入neo4j

​	通过load语句先在neo4j中创建包含多项信息的文物点

​	而后load导入博物馆，作者，年代与各个文物之间的关系

​	最终形成完整知识图谱

![image-20250523113046912](https://wangri.oss-cn-beijing.aliyuncs.com/time/202505231130001.png)

### 8 测试结果

#### 8.1 数据获取 

##### 8.1.1 海外数据与国内数据爬取的稳定性： 

- 测试结果显示，数据爬取过程总体稳定，但在某些情况下，数据爬取的速度较慢，可能是由于网络延迟或数据源服务器的响应 速度问题。 

##### 8.1.2 数据补充的完整性： 

- 数据获取过程中的完整性总体较好，但存在少量数据缺失或不完整的情况。 

- 对比多个数据源的数据结果，可以发现少量数据的重复，需要进行去重处理。

#### 8.2 数据清洗 

- 清洗效果较好

#### 8.3 数据翻译

- 翻译效果整体较好，仍有部分错误需要手动纠正

#### 8.4 数据建模

##### 8.2.1 构建三元组的可持续性：

- 数据建模过程稳定，结果较为稳定，资源消耗保持在可接受范围内。 

##### 8.2.2 正确性： 

- 实体识别和关系抽取的准确性较高，但属性提取有时存在错误。

#### 8.5数据存储 

##### 8.5.1 服务器与MySQL数据库连接的稳定性：

- 连接稳定，但在数据传输高峰期可能出现短暂延迟。 

- 数据传输整体可靠，但需要监控并调整数据库连接池的配置以提高效率。

##### 8.5.2 图数据库与服务器连接的稳定性： 

- 连接总体稳定，但在大规模数据可视化操作时可能出现短暂延迟。

-  数据传输稳定性可接受，但建议优化数据传输通道。

#####  8.5.3 可扩展性： 

- 系统在处理大规模数据和多用户访问时表现良好，但仍需进一步优化。 用户请求响应速度较快，但可以进一步改进